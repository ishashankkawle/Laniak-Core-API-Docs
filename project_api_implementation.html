<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>laniak-core-api Â· Anypoint Studio Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="assets/bootstrap.css" rel="stylesheet">
    <link href="assets/bootstrap-responsive.css" rel="stylesheet">
    <link href="assets/docs.css" rel="stylesheet">
    <link href="assets/prettify.css" rel="stylesheet">
    <link href="assets/scroller.css" rel="stylesheet">

  </head>

  <body data-twttr-rendered="true" data-spy="scroll" data-target=".bs-docs-sidebar"><iframe style="display: none;" id="rufous-sandbox" name="uid13460061790411"></iframe>

    <!-- Navbar
    ================================================== -->

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand pull-left" href="#">laniak-core-api</a>
          <p class="navbar-text pull-right">
              <a href="http://www.mulesoft.com" class="navbar-link">
                <img src="./assets/images/mulesoft-logo-final.png" alt="MuleSoft" id="mulesoftlogo">
              </a>
          </p>
          <div class="scroller scroller-left"><img src="./assets/icons/glyphicons_chevron-left.png" alt="scrollLeft"></div>
          <div class="scroller scroller-right"><img src="./assets/icons/glyphicons_chevron-right.png" alt="scrollRight"></div>
          <div class="wrapper">
            <ul class="nav nav-tabs list" id="myTab">
                                                                    <li><a href="./index.html">module_api_implementation</a></li>
                                                                                                            <li><a href="./user_api_implementation.html">user_api_implementation</a></li>
                                                                                                              <li><a href="./typeProjectMap_api_implementation.html">typeProjectMap_api_implementation</a></li>
                                                                                                              <li><a href="./moduleProjectMap_api_implementation.html">moduleProjectMap_api_implementation</a></li>
                                                                                                              <li><a href="./task_api_implementation.html">task_api_implementation</a></li>
                                                                                                              <li><a href="./userProjectMap_api_implementation.html">userProjectMap_api_implementation</a></li>
                                                                                                              <li><a href="./role_api_implementation.html">role_api_implementation</a></li>
                                                                                                              <li><a href="./common.html">common</a></li>
                                                                                                              <li><a href="./interface.html">interface</a></li>
                                                                                                              <li><a href="./priorityProjectMap_api_implementation.html">priorityProjectMap_api_implementation</a></li>
                                                                                                              <li><a href="./global.html">global</a></li>
                                                                                                              <li><a href="./type_api_implementation.html">type_api_implementation</a></li>
                                                                                                              <li><a href="./priority_api_implementation.html">priority_api_implementation</a></li>
                                                                                                              <li class="active"><a href="./project_api_implementation.html">project_api_implementation</a></li>
                                                                                                              <li><a href="./activityworkflow_api_implementation.html">activityworkflow_api_implementation</a></li>
                                                                </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

  <header class="jumbotron subhead" id="overview">
    <div class="container">
      <h1>laniak-core-api</h1>
    </div>
  </header>

  <div class="container">

    <!-- Docs nav
    ================================================== -->
    <div class="row">
      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav affix">
          <li class="nav-header">Flows</li>
                      <li data-toggle="collapse" data-target="#_getProjectIdFromNameNav"><a href="#_getProjectIdFromName"><i class="icon-chevron-right"></i> getProjectIdFromName</a>
            </li>
            <div id="_getProjectIdFromNameNav" class="accordion-body collapse" style="height: 0px;">
              <div class="accordion-inner">
                <ul>
                                                                                                                                                    </ul>
              </div>
            </div>
                      <li data-toggle="collapse" data-target="#_getProjectListForUserNav"><a href="#_getProjectListForUser"><i class="icon-chevron-right"></i> getProjectListForUser</a>
            </li>
            <div id="_getProjectListForUserNav" class="accordion-body collapse" style="height: 0px;">
              <div class="accordion-inner">
                <ul>
                                                                                                              </ul>
              </div>
            </div>
                      <li data-toggle="collapse" data-target="#_getCommonProjectsListForUsersNav"><a href="#_getCommonProjectsListForUsers"><i class="icon-chevron-right"></i> getCommonProjectsListForUsers</a>
            </li>
            <div id="_getCommonProjectsListForUsersNav" class="accordion-body collapse" style="height: 0px;">
              <div class="accordion-inner">
                <ul>
                                                                                                                                                                                          </ul>
              </div>
            </div>
                      <li data-toggle="collapse" data-target="#_getAllProjectsNav"><a href="#_getAllProjects"><i class="icon-chevron-right"></i> getAllProjects</a>
            </li>
            <div id="_getAllProjectsNav" class="accordion-body collapse" style="height: 0px;">
              <div class="accordion-inner">
                <ul>
                                                                                                              </ul>
              </div>
            </div>
                      <li data-toggle="collapse" data-target="#_mainProjectFlowNav"><a href="#_mainProjectFlow"><i class="icon-chevron-right"></i> mainProjectFlow</a>
            </li>
            <div id="_mainProjectFlowNav" class="accordion-body collapse" style="height: 0px;">
              <div class="accordion-inner">
                <ul>
                                                                                                                                                                                                                                                                                                                                                  </ul>
              </div>
            </div>
                      <li data-toggle="collapse" data-target="#_createNewProjectNav"><a href="#_createNewProject"><i class="icon-chevron-right"></i> createNewProject</a>
            </li>
            <div id="_createNewProjectNav" class="accordion-body collapse" style="height: 0px;">
              <div class="accordion-inner">
                <ul>
                                                                                                                                                                                                                                                                                                                                                  </ul>
              </div>
            </div>
                      <li data-toggle="collapse" data-target="#_deleteProjectFlowNav"><a href="#_deleteProjectFlow"><i class="icon-chevron-right"></i> deleteProjectFlow</a>
            </li>
            <div id="_deleteProjectFlowNav" class="accordion-body collapse" style="height: 0px;">
              <div class="accordion-inner">
                <ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ul>
              </div>
            </div>
                  </ul>
      </div>
      <div class="span9">

        <!-- Elements and their descriptions
        ================================================== -->
        <div style="max-height: 640px;width:100%;overflow:auto;">
                      <img src="img/project_api_implementation.png" usemap="#mFlowMap" alt="Mule Configuration Image">
            <map name="mFlowMap">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </map>
                  </div>
        <!--Mule configuration xml code-->
        <div class="accordion-heading">
          <a class="accordion-toggle" data-toggle="collapse" href="#collapseMuleConfiguration">
            Show Mule Configuration XML code...
          </a>
        </div>
        <div id="collapseMuleConfiguration" class="accordion-body collapse" style="height: 0px;">
          <div class="accordion-inner">
              <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;mule xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:batch="http://www.mulesoft.org/schema/mule/batch" xmlns:mongo="http://www.mulesoft.org/schema/mule/mongo" xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd
http://www.mulesoft.org/schema/mule/mongo http://www.mulesoft.org/schema/mule/mongo/current/mule-mongo.xsd
http://www.mulesoft.org/schema/mule/batch http://www.mulesoft.org/schema/mule/batch/current/mule-batch.xsd"&gt;
    &lt;flow name="getProjectIdFromName" doc:id="747c8a09-fe10-46e6-a06c-547d6344f021"&gt; 
        &lt;set-variable value="#[attributes.queryParams.name]" doc:name="Set Variable" doc:id="8348895b-f273-48e0-87cf-420108f2eb3f" variableName="projectName"/&gt;  
        &lt;db:select doc:name="Select" doc:id="31e020ae-6cb9-4c5d-843d-9e97f49397e2" config-ref="rdbms_master_db_config"&gt; 
            &lt;reconnect/&gt;  
            &lt;db:sql&gt;&lt;![CDATA[SELECT "ProjectId" FROM project_master WHERE "ProjectName" = :name]]&gt;  &lt;/db:sql&gt;  
            &lt;db:input-parameters&gt;&lt;![CDATA[#[{'name' : vars.projectName}]]]&gt; &lt;/db:input-parameters&gt; 
        &lt;/db:select&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="1ad4c999-2143-4388-8d4f-0ee9656a923b"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt; 
    &lt;/flow&gt;  
    &lt;flow name="getProjectListForUser" doc:id="4299777e-4d69-429c-bfac-a8ea206c655b"&gt; 
        &lt;db:select doc:name="Select" doc:id="2a38700c-a197-4ac5-a317-7c02faf61a4f" config-ref="rdbms_master_db_config"&gt; 
            &lt;reconnect/&gt;  
            &lt;db:sql&gt;&lt;![CDATA[SELECT DISTINCT "ProjectId" , "ProjectName" FROM VIEW_USERPROJECTMAP WHERE "UserId" = :userId ]]&gt;  &lt;/db:sql&gt;  
            &lt;db:input-parameters&gt;&lt;![CDATA[#[{'userId' : attributes.queryParams.userId}]]]&gt;  &lt;/db:input-parameters&gt; 
        &lt;/db:select&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="281bb683-803e-4f83-873e-66131119cf73"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt; 
    &lt;/flow&gt;  
    &lt;flow name="getCommonProjectsListForUsers" doc:id="0523ea8b-ebd3-4d9d-ab18-f19b8ed90a6a"&gt; 
        &lt;set-variable value="#[attributes.queryParams.userId]" doc:name="Set userId" doc:id="24d09053-c213-4581-88ea-69f395f3bda1" variableName="userId"/&gt;  
        &lt;set-variable value="#[attributes.queryParams.otherUserId]" doc:name="Set otherUserId" doc:id="7decf639-b1c9-4692-b413-46de204cd543" variableName="otherUserId"/&gt;  
        &lt;db:select doc:name="Select" doc:id="312a7567-12ad-4b6c-9228-3dbfd4263c63" config-ref="rdbms_master_db_config"&gt; 
            &lt;reconnect/&gt;  
            &lt;db:sql&gt;&lt;![CDATA[SELECT DISTINCT vupm.pjid1 as projectId ,  vupm.pjnm1 as projectName FROM (SELECT vu1."ProjectId" pjid1, vu1."ProjectName" pjnm1 FROM VIEW_USERPROJECTMAP AS vu1 WHERE "UserId" = :userId )vupm JOIN (SELECT vu2."ProjectId" pjid2 , vu2."ProjectName" pjnm2 FROM VIEW_USERPROJECTMAP vu2 WHERE "UserId" = :otherUserId )vupm1 ON (vupm.pjid1::TEXT = vupm1.pjid2)]]&gt;  &lt;/db:sql&gt;  
            &lt;db:input-parameters&gt;&lt;![CDATA[#[{'userId' : vars.userId , 'otherUserId' : vars.otherUserId}]]]&gt; &lt;/db:input-parameters&gt; 
        &lt;/db:select&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="316958b5-aa0e-44cd-8637-6194f4f8b726"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt; 
    &lt;/flow&gt;  
    &lt;flow name="getAllProjects" doc:id="55ff61cf-7db4-478c-a362-4709c932b0ad"&gt; 
        &lt;db:select doc:name="Select" doc:id="0212ee7b-2503-4465-b137-75c287908dd7" config-ref="rdbms_master_db_config"&gt; 
            &lt;reconnect/&gt;  
            &lt;db:sql&gt;&lt;![CDATA[SELECT * FROM project_master]]&gt;    &lt;/db:sql&gt; 
        &lt;/db:select&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="61c52645-6480-4d90-83fb-3de6e28424e8"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload map ( payload01 , indexOfPayload01 ) -&gt; {

    projectId: payload01.ProjectId as String default "",

    projectName: payload01.ProjectName default ""

}]]&gt;    &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt; 
    &lt;/flow&gt;  
    &lt;flow name="mainProjectFlow" doc:id="ec714729-4603-40a3-9725-f50315017cd9"&gt; 
        &lt;logger level="INFO" doc:name="Logger" doc:id="95f920f8-0965-4428-a23e-1f9cdf0da70e"/&gt;  
        &lt;choice doc:name="Choice" doc:id="d8c2f880-8f22-4627-b4be-7f11eba872cc"&gt; 
            &lt;when expression="#[sizeOf(attributes.queryParams) == 2]"&gt; 
                &lt;flow-ref doc:name="Get common project list for users" doc:id="f5f2e5a6-7daf-4cc8-845c-410d1a687cf1" name="getCommonProjectsListForUsers"/&gt; 
            &lt;/when&gt;  
            &lt;when expression="#[sizeOf(attributes.queryParams) == 1]"&gt; 
                &lt;choice doc:name="Choice" doc:id="87647dca-25bd-4158-a56f-39588ed3b6c9"&gt; 
                    &lt;when expression="#[attributes.queryParams.name != null]"&gt; 
                        &lt;flow-ref doc:name="Get Project ID from Project Name" doc:id="856a09f3-1eb5-4dc8-b82c-91d125d7e1cd" name="getProjectIdFromName"/&gt; 
                    &lt;/when&gt;  
                    &lt;otherwise&gt; 
                        &lt;flow-ref doc:name="Get Project List for User Id" doc:id="428973e8-2858-499b-8cf3-9fd6cbb7d4be" name="getProjectListForUser"/&gt; 
                    &lt;/otherwise&gt; 
                &lt;/choice&gt; 
            &lt;/when&gt;  
            &lt;otherwise&gt; 
                &lt;flow-ref doc:name="Get all projects" doc:id="bcec5cae-f54b-42c9-9616-bcf186af4d27" name="getAllProjects"/&gt; 
            &lt;/otherwise&gt; 
        &lt;/choice&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="94971a04-cf42-47d5-90e0-0f94d2e08cbd"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt; 
    &lt;/flow&gt;  
    &lt;flow name="createNewProject" doc:id="2d8f6554-c2b3-4334-bc20-0be6e539eecb"&gt; 
        &lt;set-variable value="#[payload]" doc:name="Set backup_payload" doc:id="814ab2d7-1b69-4645-8c27-933d3278c8f1" variableName="backup_payload"/&gt;  
        &lt;flow-ref doc:name="generateNewId" doc:id="73244f5c-245e-4328-823a-6cbc99ae48bc" name="generateNewId"/&gt;  
        &lt;set-variable value="#[%dw 2.0
output application/json
---
{
    projectId : payload.nextval,
    projectName : vars.backup_payload.title,
    userId : vars.backup_payload.userId
}]" doc:name="Reset backup_payload" doc:id="666475fd-1ef2-4905-aaa2-aea84bb3ba7a" variableName="backup_payload"/&gt;
        &lt;try doc:name="Try" doc:id="0fa8389e-721a-4a0b-8d95-b873a1e96dde" transactionalAction="ALWAYS_BEGIN"&gt; 
            &lt;db:insert doc:name="Project_Master Insert" doc:id="cd769c0e-97bf-434c-a4fe-4de114e73363" config-ref="rdbms_master_db_config"&gt; 
                &lt;db:sql&gt;&lt;![CDATA[INSERT INTO project_master ("ProjectId", "ProjectName", "DateCreated") VALUES ( :projectid , :projectname , CURRENT_DATE) ]]&gt;  &lt;/db:sql&gt;  
                &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload.projectId,

    "projectname" : vars.backup_payload.projectName

}]]]&gt;   &lt;/db:input-parameters&gt;
            &lt;/db:insert&gt;  
            &lt;ee:transform doc:name="Transform Message" doc:id="00b99d9b-015a-4516-902e-d0fdad142adb"&gt; 
                &lt;ee:message&gt; 
                    &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

vars.backup_payload]]&gt;  &lt;/ee:set-payload&gt;
                &lt;/ee:message&gt; 
            &lt;/ee:transform&gt;  
            &lt;flow-ref doc:name="createNewUserProjectMap" doc:id="b6157fce-dfb7-488a-bf68-9ce6886fb149" name="createNewUserProjectMap"/&gt; 
        &lt;/try&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="256d645f-c4a4-48c7-a0f7-2f52f383291a"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt; 
    &lt;/flow&gt;  
    &lt;flow name="deleteProjectFlow" doc:id="0a662d38-d80b-485f-b85c-f1a456b31c9e"&gt; 
        &lt;set-variable value="#[payload]" doc:name="Set backup_payload_proj" doc:id="abae5ae1-1fea-4aff-869e-55409538af90" variableName="backup_payload_proj"/&gt;  
        &lt;db:select doc:name="Select" doc:id="a9d8233c-0ba3-4141-92d0-df414e8e33a0" config-ref="rdbms_master_db_config"&gt; 
            &lt;db:sql&gt;&lt;![CDATA[SELECT "TaskId" from task_master WHERE "ProjectId" = :projectid]]&gt; &lt;/db:sql&gt;  
            &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
        &lt;/db:select&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="574ba25e-7a2e-4fba-8eb3-69209d5a393a"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload map($.TaskId)]]&gt;    &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt;  
        &lt;foreach doc:name="For Each" doc:id="f3c9cc4f-7376-44f6-877b-773f77865b6c"&gt; 
            &lt;ee:transform doc:name="Transform Message" doc:id="e8e73ef1-0fe4-40f3-a385-bc098f25e9ab"&gt; 
                &lt;ee:message&gt; 
                    &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

{

    "ID" : payload

}]]&gt;    &lt;/ee:set-payload&gt;
                &lt;/ee:message&gt; 
            &lt;/ee:transform&gt;  
            &lt;try doc:name="Try" doc:id="9a5e01fe-4842-45dc-99cf-9b03fd30370d" transactionalAction="ALWAYS_BEGIN"&gt; 
                &lt;flow-ref doc:name="deleteTaskFlow" doc:id="18d93b8c-42b7-42a1-840e-7ad82fe972a4" name="deleteTaskFlow"/&gt; 
            &lt;/try&gt; 
        &lt;/foreach&gt;  
        &lt;scatter-gather doc:name="Scatter-Gather" doc:id="df1953ad-54c8-4bb6-a99f-7151c08d4200"&gt; 
            &lt;route&gt; 
                &lt;db:select doc:name="Select" doc:id="cfc48c2d-785e-4d15-9607-45f0437eaab1" config-ref="rdbms_master_db_config"&gt; 
                    &lt;db:sql&gt;&lt;![CDATA[SELECT "ModuleId" FROM module_project_map WHERE "ProjectId" = :projectid]]&gt;    &lt;/db:sql&gt;  
                    &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
                &lt;/db:select&gt;  
                &lt;ee:transform doc:name="Transform Message" doc:id="85946c7c-fe8b-4d23-b487-463d12165fb4"&gt; 
                    &lt;ee:message&gt; 
                        &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
                    &lt;/ee:message&gt; 
                &lt;/ee:transform&gt;  
                &lt;db:bulk-delete doc:name="Bulk delete" doc:id="78d6bafe-8f76-442b-8169-78523c3e9972" config-ref="rdbms_master_db_config"&gt; 
                    &lt;db:sql&gt;&lt;![CDATA[DELETE FROM module_project_map WHERE "ModuleId" = :ModuleId;

DELETE FROM module_master WHERE "ModuleId" = :ModuleId;]]&gt;  &lt;/db:sql&gt;
                &lt;/db:bulk-delete&gt; 
            &lt;/route&gt;  
            &lt;route&gt; 
                &lt;db:select doc:name="Select" doc:id="203ef1eb-2acd-4d9d-87f4-1d949daa0713" config-ref="rdbms_master_db_config"&gt; 
                    &lt;db:sql&gt;&lt;![CDATA[SELECT "TypeId" FROM type_project_map WHERE "ProjectId" = :projectid]]&gt;    &lt;/db:sql&gt;  
                    &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
                &lt;/db:select&gt;  
                &lt;ee:transform doc:name="Transform Message" doc:id="dde3c01c-8604-4fd0-8f3c-80bd88eda791"&gt; 
                    &lt;ee:message&gt; 
                        &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
                    &lt;/ee:message&gt; 
                &lt;/ee:transform&gt;  
                &lt;db:bulk-delete doc:name="Bulk delete" doc:id="9defb71d-d438-41b4-bd23-88fbd897ade6" config-ref="rdbms_master_db_config"&gt; 
                    &lt;db:sql&gt;&lt;![CDATA[DELETE FROM type_project_map WHERE "TypeId" = :TypeId;

DELETE FROM type_master WHERE "TypeId" = :TypeId;]]&gt;    &lt;/db:sql&gt;
                &lt;/db:bulk-delete&gt; 
            &lt;/route&gt;  
            &lt;route&gt; 
                &lt;db:select doc:name="Select" doc:id="1c10268c-499d-4844-b7cf-524a21ce74ca" config-ref="rdbms_master_db_config"&gt; 
                    &lt;db:sql&gt;&lt;![CDATA[SELECT "PriorityId" FROM priority_project_map WHERE "ProjectId" = :projectid]]&gt;    &lt;/db:sql&gt;  
                    &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
                &lt;/db:select&gt;  
                &lt;ee:transform doc:name="Transform Message" doc:id="5f3c169b-571b-4342-81ae-2f77340f7bb2"&gt; 
                    &lt;ee:message&gt; 
                        &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
                    &lt;/ee:message&gt; 
                &lt;/ee:transform&gt;  
                &lt;db:bulk-delete doc:name="Bulk delete" doc:id="9bf06ff9-4f6a-4360-b753-49d8ad67479a" config-ref="rdbms_master_db_config"&gt; 
                    &lt;db:sql&gt;&lt;![CDATA[DELETE FROM priority_project_map WHERE "PriorityId" = :PriorityId;

DELETE FROM priority_master WHERE "PriorityId" = :PriorityId;]]&gt;    &lt;/db:sql&gt;
                &lt;/db:bulk-delete&gt; 
            &lt;/route&gt;  
            &lt;route&gt; 
                &lt;db:delete doc:name="Delete" doc:id="dd470825-defe-41ca-86cb-a71b39651557" config-ref="rdbms_master_db_config"&gt; 
                    &lt;db:sql&gt;&lt;![CDATA[DELETE FROM user_project_map WHERE "ProjectId" = :projectid;

DELETE FROM project_master WHERE "ProjectId" = :projectid;]]&gt;   &lt;/db:sql&gt;
                    &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
                &lt;/db:delete&gt; 
            &lt;/route&gt; 
        &lt;/scatter-gather&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="0b187c8a-50af-46c9-ae85-844098b65668"&gt; 
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt; 
    &lt;/flow&gt; 
&lt;/mule&gt;
</code></pre>

          </div>
        </div>

                  <section id="_getProjectIdFromName">
            <div class="page-header">
                <h1>getProjectIdFromName <img src="./assets/icons/flow.png"></h1>
            </div>
            <div class="documentation-indented" style="height:100%;width:100%;overflow:auto;">
                              <img src="img/getProjectIdFromName.png" usemap="#flowMapgetProjectIdFromName" alt="getProjectIdFromName image">
                <map name="flowMapgetProjectIdFromName">
                                                                                                                                                    </map>
                          </div>
            <div class="documentation-indented">
              <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" href="#_getProjectIdFromNamexml_code">
                  Show configuration XML code of the flow getProjectIdFromName...
                </a>
              </div>
              <div id="_getProjectIdFromNamexml_code" class="accordion-body collapse" style="height: 0px;">
                <div class="accordion-inner">
                    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;flow name="getProjectIdFromName" doc:id="747c8a09-fe10-46e6-a06c-547d6344f021"&gt;  
    &lt;set-variable value="#[attributes.queryParams.name]" doc:name="Set Variable" doc:id="8348895b-f273-48e0-87cf-420108f2eb3f" variableName="projectName"/&gt;  
    &lt;db:select doc:name="Select" doc:id="31e020ae-6cb9-4c5d-843d-9e97f49397e2" config-ref="rdbms_master_db_config"&gt;  
        &lt;reconnect/&gt;  
        &lt;db:sql&gt;&lt;![CDATA[SELECT "ProjectId" FROM project_master WHERE "ProjectName" = :name]]&gt;  &lt;/db:sql&gt;  
        &lt;db:input-parameters&gt;&lt;![CDATA[#[{'name' : vars.projectName}]]]&gt; &lt;/db:input-parameters&gt; 
    &lt;/db:select&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="1ad4c999-2143-4388-8d4f-0ee9656a923b"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt; 
&lt;/flow&gt;
</code></pre>

                </div>
              </div>
              <p></p>
            </div>
                                                                                                    </section>
                  <section id="_getProjectListForUser">
            <div class="page-header">
                <h1>getProjectListForUser <img src="./assets/icons/flow.png"></h1>
            </div>
            <div class="documentation-indented" style="height:100%;width:100%;overflow:auto;">
                              <img src="img/getProjectListForUser.png" usemap="#flowMapgetProjectListForUser" alt="getProjectListForUser image">
                <map name="flowMapgetProjectListForUser">
                                                                                                              </map>
                          </div>
            <div class="documentation-indented">
              <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" href="#_getProjectListForUserxml_code">
                  Show configuration XML code of the flow getProjectListForUser...
                </a>
              </div>
              <div id="_getProjectListForUserxml_code" class="accordion-body collapse" style="height: 0px;">
                <div class="accordion-inner">
                    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;flow name="getProjectListForUser" doc:id="4299777e-4d69-429c-bfac-a8ea206c655b"&gt;  
    &lt;db:select doc:name="Select" doc:id="2a38700c-a197-4ac5-a317-7c02faf61a4f" config-ref="rdbms_master_db_config"&gt;  
        &lt;reconnect/&gt;  
        &lt;db:sql&gt;&lt;![CDATA[SELECT DISTINCT "ProjectId" , "ProjectName" FROM VIEW_USERPROJECTMAP WHERE "UserId" = :userId ]]&gt;  &lt;/db:sql&gt;  
        &lt;db:input-parameters&gt;&lt;![CDATA[#[{'userId' : attributes.queryParams.userId}]]]&gt;  &lt;/db:input-parameters&gt; 
    &lt;/db:select&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="281bb683-803e-4f83-873e-66131119cf73"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt; 
&lt;/flow&gt;
</code></pre>

                </div>
              </div>
              <p></p>
            </div>
                                                                          </section>
                  <section id="_getCommonProjectsListForUsers">
            <div class="page-header">
                <h1>getCommonProjectsListForUsers <img src="./assets/icons/flow.png"></h1>
            </div>
            <div class="documentation-indented" style="height:100%;width:100%;overflow:auto;">
                              <img src="img/getCommonProjectsListForUsers.png" usemap="#flowMapgetCommonProjectsListForUsers" alt="getCommonProjectsListForUsers image">
                <map name="flowMapgetCommonProjectsListForUsers">
                                                                                                                                                                                          </map>
                          </div>
            <div class="documentation-indented">
              <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" href="#_getCommonProjectsListForUsersxml_code">
                  Show configuration XML code of the flow getCommonProjectsListForUsers...
                </a>
              </div>
              <div id="_getCommonProjectsListForUsersxml_code" class="accordion-body collapse" style="height: 0px;">
                <div class="accordion-inner">
                    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;flow name="getCommonProjectsListForUsers" doc:id="0523ea8b-ebd3-4d9d-ab18-f19b8ed90a6a"&gt;  
    &lt;set-variable value="#[attributes.queryParams.userId]" doc:name="Set userId" doc:id="24d09053-c213-4581-88ea-69f395f3bda1" variableName="userId"/&gt;  
    &lt;set-variable value="#[attributes.queryParams.otherUserId]" doc:name="Set otherUserId" doc:id="7decf639-b1c9-4692-b413-46de204cd543" variableName="otherUserId"/&gt;  
    &lt;db:select doc:name="Select" doc:id="312a7567-12ad-4b6c-9228-3dbfd4263c63" config-ref="rdbms_master_db_config"&gt;  
        &lt;reconnect/&gt;  
        &lt;db:sql&gt;&lt;![CDATA[SELECT DISTINCT vupm.pjid1 as projectId ,  vupm.pjnm1 as projectName FROM (SELECT vu1."ProjectId" pjid1, vu1."ProjectName" pjnm1 FROM VIEW_USERPROJECTMAP AS vu1 WHERE "UserId" = :userId )vupm JOIN (SELECT vu2."ProjectId" pjid2 , vu2."ProjectName" pjnm2 FROM VIEW_USERPROJECTMAP vu2 WHERE "UserId" = :otherUserId )vupm1 ON (vupm.pjid1::TEXT = vupm1.pjid2)]]&gt;  &lt;/db:sql&gt;  
        &lt;db:input-parameters&gt;&lt;![CDATA[#[{'userId' : vars.userId , 'otherUserId' : vars.otherUserId}]]]&gt; &lt;/db:input-parameters&gt; 
    &lt;/db:select&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="316958b5-aa0e-44cd-8637-6194f4f8b726"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt; 
&lt;/flow&gt;
</code></pre>

                </div>
              </div>
              <p></p>
            </div>
                                                                                                                              </section>
                  <section id="_getAllProjects">
            <div class="page-header">
                <h1>getAllProjects <img src="./assets/icons/flow.png"></h1>
            </div>
            <div class="documentation-indented" style="height:100%;width:100%;overflow:auto;">
                              <img src="img/getAllProjects.png" usemap="#flowMapgetAllProjects" alt="getAllProjects image">
                <map name="flowMapgetAllProjects">
                                                                                                              </map>
                          </div>
            <div class="documentation-indented">
              <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" href="#_getAllProjectsxml_code">
                  Show configuration XML code of the flow getAllProjects...
                </a>
              </div>
              <div id="_getAllProjectsxml_code" class="accordion-body collapse" style="height: 0px;">
                <div class="accordion-inner">
                    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;flow name="getAllProjects" doc:id="55ff61cf-7db4-478c-a362-4709c932b0ad"&gt;  
    &lt;db:select doc:name="Select" doc:id="0212ee7b-2503-4465-b137-75c287908dd7" config-ref="rdbms_master_db_config"&gt;  
        &lt;reconnect/&gt;  
        &lt;db:sql&gt;&lt;![CDATA[SELECT * FROM project_master]]&gt;    &lt;/db:sql&gt; 
    &lt;/db:select&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="61c52645-6480-4d90-83fb-3de6e28424e8"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload map ( payload01 , indexOfPayload01 ) -&gt; {

    projectId: payload01.ProjectId as String default "",

    projectName: payload01.ProjectName default ""

}]]&gt;    &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt; 
&lt;/flow&gt;
</code></pre>

                </div>
              </div>
              <p></p>
            </div>
                                                                          </section>
                  <section id="_mainProjectFlow">
            <div class="page-header">
                <h1>mainProjectFlow <img src="./assets/icons/flow.png"></h1>
            </div>
            <div class="documentation-indented" style="height:100%;width:100%;overflow:auto;">
                              <img src="img/mainProjectFlow.png" usemap="#flowMapmainProjectFlow" alt="mainProjectFlow image">
                <map name="flowMapmainProjectFlow">
                                                                                                                                                                                                                                                                                                                                                  </map>
                          </div>
            <div class="documentation-indented">
              <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" href="#_mainProjectFlowxml_code">
                  Show configuration XML code of the flow mainProjectFlow...
                </a>
              </div>
              <div id="_mainProjectFlowxml_code" class="accordion-body collapse" style="height: 0px;">
                <div class="accordion-inner">
                    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;flow name="mainProjectFlow" doc:id="ec714729-4603-40a3-9725-f50315017cd9"&gt;  
    &lt;logger level="INFO" doc:name="Logger" doc:id="95f920f8-0965-4428-a23e-1f9cdf0da70e"/&gt;  
    &lt;choice doc:name="Choice" doc:id="d8c2f880-8f22-4627-b4be-7f11eba872cc"&gt; 
        &lt;when expression="#[sizeOf(attributes.queryParams) == 2]"&gt; 
            &lt;flow-ref doc:name="Get common project list for users" doc:id="f5f2e5a6-7daf-4cc8-845c-410d1a687cf1" name="getCommonProjectsListForUsers"/&gt; 
        &lt;/when&gt;  
        &lt;when expression="#[sizeOf(attributes.queryParams) == 1]"&gt; 
            &lt;choice doc:name="Choice" doc:id="87647dca-25bd-4158-a56f-39588ed3b6c9"&gt; 
                &lt;when expression="#[attributes.queryParams.name != null]"&gt; 
                    &lt;flow-ref doc:name="Get Project ID from Project Name" doc:id="856a09f3-1eb5-4dc8-b82c-91d125d7e1cd" name="getProjectIdFromName"/&gt; 
                &lt;/when&gt;  
                &lt;otherwise&gt; 
                    &lt;flow-ref doc:name="Get Project List for User Id" doc:id="428973e8-2858-499b-8cf3-9fd6cbb7d4be" name="getProjectListForUser"/&gt; 
                &lt;/otherwise&gt; 
            &lt;/choice&gt; 
        &lt;/when&gt;  
        &lt;otherwise&gt; 
            &lt;flow-ref doc:name="Get all projects" doc:id="bcec5cae-f54b-42c9-9616-bcf186af4d27" name="getAllProjects"/&gt; 
        &lt;/otherwise&gt; 
    &lt;/choice&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="94971a04-cf42-47d5-90e0-0f94d2e08cbd"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt; 
&lt;/flow&gt;
</code></pre>

                </div>
              </div>
              <p></p>
            </div>
                                                                                                                                                                                                                                      </section>
                  <section id="_createNewProject">
            <div class="page-header">
                <h1>createNewProject <img src="./assets/icons/flow.png"></h1>
            </div>
            <div class="documentation-indented" style="height:100%;width:100%;overflow:auto;">
                              <img src="img/createNewProject.png" usemap="#flowMapcreateNewProject" alt="createNewProject image">
                <map name="flowMapcreateNewProject">
                                                                                                                                                                                                                                                                                                                                                  </map>
                          </div>
            <div class="documentation-indented">
              <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" href="#_createNewProjectxml_code">
                  Show configuration XML code of the flow createNewProject...
                </a>
              </div>
              <div id="_createNewProjectxml_code" class="accordion-body collapse" style="height: 0px;">
                <div class="accordion-inner">
                    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;flow name="createNewProject" doc:id="2d8f6554-c2b3-4334-bc20-0be6e539eecb"&gt;  
    &lt;set-variable value="#[payload]" doc:name="Set backup_payload" doc:id="814ab2d7-1b69-4645-8c27-933d3278c8f1" variableName="backup_payload"/&gt;  
    &lt;flow-ref doc:name="generateNewId" doc:id="73244f5c-245e-4328-823a-6cbc99ae48bc" name="generateNewId"/&gt;  
    &lt;set-variable value="#[%dw 2.0
output application/json
---
{
    projectId : payload.nextval,
    projectName : vars.backup_payload.title,
    userId : vars.backup_payload.userId
}]" doc:name="Reset backup_payload" doc:id="666475fd-1ef2-4905-aaa2-aea84bb3ba7a" variableName="backup_payload"/&gt;
    &lt;try doc:name="Try" doc:id="0fa8389e-721a-4a0b-8d95-b873a1e96dde" transactionalAction="ALWAYS_BEGIN"&gt; 
        &lt;db:insert doc:name="Project_Master Insert" doc:id="cd769c0e-97bf-434c-a4fe-4de114e73363" config-ref="rdbms_master_db_config"&gt;  
            &lt;db:sql&gt;&lt;![CDATA[INSERT INTO project_master ("ProjectId", "ProjectName", "DateCreated") VALUES ( :projectid , :projectname , CURRENT_DATE) ]]&gt;  &lt;/db:sql&gt;  
            &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload.projectId,

    "projectname" : vars.backup_payload.projectName

}]]]&gt;   &lt;/db:input-parameters&gt;
        &lt;/db:insert&gt;  
        &lt;ee:transform doc:name="Transform Message" doc:id="00b99d9b-015a-4516-902e-d0fdad142adb"&gt;  
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

vars.backup_payload]]&gt;  &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt;  
        &lt;flow-ref doc:name="createNewUserProjectMap" doc:id="b6157fce-dfb7-488a-bf68-9ce6886fb149" name="createNewUserProjectMap"/&gt; 
    &lt;/try&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="256d645f-c4a4-48c7-a0f7-2f52f383291a"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt; 
&lt;/flow&gt;
</code></pre>

                </div>
              </div>
              <p></p>
            </div>
                                                                                                                                                                                                                                      </section>
                  <section id="_deleteProjectFlow">
            <div class="page-header">
                <h1>deleteProjectFlow <img src="./assets/icons/flow.png"></h1>
            </div>
            <div class="documentation-indented" style="height:100%;width:100%;overflow:auto;">
                              <img src="img/deleteProjectFlow.png" usemap="#flowMapdeleteProjectFlow" alt="deleteProjectFlow image">
                <map name="flowMapdeleteProjectFlow">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </map>
                          </div>
            <div class="documentation-indented">
              <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" href="#_deleteProjectFlowxml_code">
                  Show configuration XML code of the flow deleteProjectFlow...
                </a>
              </div>
              <div id="_deleteProjectFlowxml_code" class="accordion-body collapse" style="height: 0px;">
                <div class="accordion-inner">
                    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;flow name="deleteProjectFlow" doc:id="0a662d38-d80b-485f-b85c-f1a456b31c9e"&gt;  
    &lt;set-variable value="#[payload]" doc:name="Set backup_payload_proj" doc:id="abae5ae1-1fea-4aff-869e-55409538af90" variableName="backup_payload_proj"/&gt;  
    &lt;db:select doc:name="Select" doc:id="a9d8233c-0ba3-4141-92d0-df414e8e33a0" config-ref="rdbms_master_db_config"&gt;  
        &lt;db:sql&gt;&lt;![CDATA[SELECT "TaskId" from task_master WHERE "ProjectId" = :projectid]]&gt; &lt;/db:sql&gt;  
        &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
    &lt;/db:select&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="574ba25e-7a2e-4fba-8eb3-69209d5a393a"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload map($.TaskId)]]&gt;    &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt;  
    &lt;foreach doc:name="For Each" doc:id="f3c9cc4f-7376-44f6-877b-773f77865b6c"&gt; 
        &lt;ee:transform doc:name="Transform Message" doc:id="e8e73ef1-0fe4-40f3-a385-bc098f25e9ab"&gt;  
            &lt;ee:message&gt; 
                &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

{

    "ID" : payload

}]]&gt;    &lt;/ee:set-payload&gt;
            &lt;/ee:message&gt; 
        &lt;/ee:transform&gt;  
        &lt;try doc:name="Try" doc:id="9a5e01fe-4842-45dc-99cf-9b03fd30370d" transactionalAction="ALWAYS_BEGIN"&gt; 
            &lt;flow-ref doc:name="deleteTaskFlow" doc:id="18d93b8c-42b7-42a1-840e-7ad82fe972a4" name="deleteTaskFlow"/&gt; 
        &lt;/try&gt; 
    &lt;/foreach&gt;  
    &lt;scatter-gather doc:name="Scatter-Gather" doc:id="df1953ad-54c8-4bb6-a99f-7151c08d4200"&gt; 
        &lt;route&gt; 
            &lt;db:select doc:name="Select" doc:id="cfc48c2d-785e-4d15-9607-45f0437eaab1" config-ref="rdbms_master_db_config"&gt;  
                &lt;db:sql&gt;&lt;![CDATA[SELECT "ModuleId" FROM module_project_map WHERE "ProjectId" = :projectid]]&gt;    &lt;/db:sql&gt;  
                &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
            &lt;/db:select&gt;  
            &lt;ee:transform doc:name="Transform Message" doc:id="85946c7c-fe8b-4d23-b487-463d12165fb4"&gt;  
                &lt;ee:message&gt; 
                    &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
                &lt;/ee:message&gt; 
            &lt;/ee:transform&gt;  
            &lt;db:bulk-delete doc:name="Bulk delete" doc:id="78d6bafe-8f76-442b-8169-78523c3e9972" config-ref="rdbms_master_db_config"&gt;  
                &lt;db:sql&gt;&lt;![CDATA[DELETE FROM module_project_map WHERE "ModuleId" = :ModuleId;

DELETE FROM module_master WHERE "ModuleId" = :ModuleId;]]&gt;  &lt;/db:sql&gt;
            &lt;/db:bulk-delete&gt; 
        &lt;/route&gt;  
        &lt;route&gt; 
            &lt;db:select doc:name="Select" doc:id="203ef1eb-2acd-4d9d-87f4-1d949daa0713" config-ref="rdbms_master_db_config"&gt;  
                &lt;db:sql&gt;&lt;![CDATA[SELECT "TypeId" FROM type_project_map WHERE "ProjectId" = :projectid]]&gt;    &lt;/db:sql&gt;  
                &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
            &lt;/db:select&gt;  
            &lt;ee:transform doc:name="Transform Message" doc:id="dde3c01c-8604-4fd0-8f3c-80bd88eda791"&gt;  
                &lt;ee:message&gt; 
                    &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
                &lt;/ee:message&gt; 
            &lt;/ee:transform&gt;  
            &lt;db:bulk-delete doc:name="Bulk delete" doc:id="9defb71d-d438-41b4-bd23-88fbd897ade6" config-ref="rdbms_master_db_config"&gt;  
                &lt;db:sql&gt;&lt;![CDATA[DELETE FROM type_project_map WHERE "TypeId" = :TypeId;

DELETE FROM type_master WHERE "TypeId" = :TypeId;]]&gt;    &lt;/db:sql&gt;
            &lt;/db:bulk-delete&gt; 
        &lt;/route&gt;  
        &lt;route&gt; 
            &lt;db:select doc:name="Select" doc:id="1c10268c-499d-4844-b7cf-524a21ce74ca" config-ref="rdbms_master_db_config"&gt;  
                &lt;db:sql&gt;&lt;![CDATA[SELECT "PriorityId" FROM priority_project_map WHERE "ProjectId" = :projectid]]&gt;    &lt;/db:sql&gt;  
                &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
            &lt;/db:select&gt;  
            &lt;ee:transform doc:name="Transform Message" doc:id="5f3c169b-571b-4342-81ae-2f77340f7bb2"&gt;  
                &lt;ee:message&gt; 
                    &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
                &lt;/ee:message&gt; 
            &lt;/ee:transform&gt;  
            &lt;db:bulk-delete doc:name="Bulk delete" doc:id="9bf06ff9-4f6a-4360-b753-49d8ad67479a" config-ref="rdbms_master_db_config"&gt;  
                &lt;db:sql&gt;&lt;![CDATA[DELETE FROM priority_project_map WHERE "PriorityId" = :PriorityId;

DELETE FROM priority_master WHERE "PriorityId" = :PriorityId;]]&gt;    &lt;/db:sql&gt;
            &lt;/db:bulk-delete&gt; 
        &lt;/route&gt;  
        &lt;route&gt; 
            &lt;db:delete doc:name="Delete" doc:id="dd470825-defe-41ca-86cb-a71b39651557" config-ref="rdbms_master_db_config"&gt;  
                &lt;db:sql&gt;&lt;![CDATA[DELETE FROM user_project_map WHERE "ProjectId" = :projectid;

DELETE FROM project_master WHERE "ProjectId" = :projectid;]]&gt;   &lt;/db:sql&gt;
                &lt;db:input-parameters&gt;&lt;![CDATA[#[{

    "projectid" : vars.backup_payload_proj.projectId

}]]]&gt;   &lt;/db:input-parameters&gt;
            &lt;/db:delete&gt; 
        &lt;/route&gt; 
    &lt;/scatter-gather&gt;  
    &lt;ee:transform doc:name="Transform Message" doc:id="0b187c8a-50af-46c9-ae85-844098b65668"&gt;  
        &lt;ee:message&gt; 
            &lt;ee:set-payload&gt;&lt;![CDATA[%dw 2.0

output application/json

---

payload]]&gt;  &lt;/ee:set-payload&gt;
        &lt;/ee:message&gt; 
    &lt;/ee:transform&gt; 
&lt;/flow&gt;
</code></pre>

                </div>
              </div>
              <p></p>
            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </section>
              </div>
    </div>
  </div>

<!-- Footer
    ================================================== -->
    <footer class="footer">
      <div class="container">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>Designed and built with <a href="http://www.mulesoft.com/mule-studio/" target="_blank">Anypoint Studio</a>.</p>
        <p>Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
        <p>Icons from <a href="http://glyphicons.com/">Glyphicons Free</a>, licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
        <ul class="footer-links">
          <li><a href="http://blogs.mulesoft.org/">Read the blog</a></li>
          <li><a href="http://www.mulesoft.org/jira/browse/">Submit issues</a></li>
        </ul>
      </div>
    </footer>



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/widgets.js"></script>
    <script src="assets/jquery.js"></script>
    <script src="assets/prettify.js"></script>
    <script src="assets/bootstrap-transition.js"></script>
    <script src="assets/bootstrap-alert.js"></script>
    <script src="assets/bootstrap-modal.js"></script>
    <script src="assets/bootstrap-dropdown.js"></script>
    <script src="assets/bootstrap-scrollspy.js"></script>
    <script src="assets/bootstrap-tab.js"></script>
    <script src="assets/bootstrap-tooltip.js"></script>
    <script src="assets/bootstrap-popover.js"></script>
    <script src="assets/bootstrap-button.js"></script>
    <script src="assets/bootstrap-collapse.js"></script>
    <script src="assets/bootstrap-carousel.js"></script>
    <script src="assets/bootstrap-typeahead.js"></script>
    <script src="assets/bootstrap-affix.js"></script>
    <script src="assets/scroller.js"></script>
    <script src="assets/application.js"></script>

</body>
</html>
